/**************************************
@Name：花夏数娱 签到 积分可以兑换苹果付费应用账号
@Author：Sliverkiss
@Date：2023-10-10 12:17:56

网址入口：https://www.huaxiashuyu.com
使用方法：将账号和用户名用#拼接，如账号#密码，填写到hxsy_data，多账号用 @ 分隔

脚本兼容：Surge、QuantumultX、Loon、Shadowrocket、Node.js
只测试过loon、QuantumultX和青龙，其它环境请自行尝试】

====================================
⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。
******************************************/

// env.js 全局
function _0x5cf4(){const _0x389ebc=['reduce','index','Surge','@chavy_boxjs_userCfgs.httpapi_timeout','post','valueForKey','Loon','time','notifyMsg','cktough','trim','个账号','map','slice','1050640kvvpJg','abs','POST','isStash','hxsy_data','test','Cookie','floor','media-url','6678894qbqXFw','stack','❌未检测到ck，请添加环境变量','2029964LCossf','./sendNotify','wait','未找到CK','setdata','msg','✅Push\x20success!','resolve','getDate','status','writeFileSync','method','write','statusCode','replace','getRandomTime','surge-version','send','iconv-lite','Node.js','push','writedata','getEnv','url','450bDXxIb','setValueForKey','undefined','timeout','success','getMilliseconds','loaddata','请求失败','openUrl','call','ckStatus','getHours','runScript','concat','GET','Stash','application/x-www-form-urlencoded;\x20charset=utf-8','toString','utf-8','then','existsSync','https://api.day.app/push','mediaUrl','Content-Length','getdata','\x0a=============\x20用户CK有效性验证\x20=============\x0a','stringify','303032mtpaDe','logErr','1213008UeyHPt','content-length','headers','isMute','random','www.huaxiashuyu.com','Content-Type','ckInfo','getMonth','stash-version','box.dat','message','assign','params','OPTIONS','match','isMuteLog','getSeconds','updatePasteboard','exit','getMinutes','bark_key','setCookieSync','update-pasteboard','\x20>>\x20Start\x20check\x20CK','随机延迟','error','name','catch','getFullYear','done','parse','isSurge','body','length','isLoon','logSeparator','substr','barkKey','isQuanX','isShadowrocket','StormSniffer-Extension/2254\x20CFNetwork/1327.0.4\x20Darwin/21.2.0','共找到','getTime','dataFile','cookie','lodash_get','opts','content-type','❌Push\x20failed!\x20>>\x20','isNode','🔷Bark\x20notify\x20>>\x20Start\x20push\x20(','set-cookie','log','5143835Gyvzjn','@chavy_boxjs_userCfgs.httpapi','请求api返回数据为空，请检查自身原因','indexOf','Shadowrocket','fetch','http://','encoding','username','object','application/json','string','readFileSync','data','Quantumult\x20X','round','🔷账号','exec','get','path','open-url','/wp-admin/admin-ajax.php','Set-Cookie','null','initGotEnv','action=user_login&username=','logs','signin','pwd','all','花夏数娱','env','错误获取签到Cookie失败','substring','lodash_set','cwd','isArray','CookieJar',',\x20错误!','toObj','login','join','7yMoGnd','finally','setval','sendNotify','ckjar','decode','isNeedRewrite','startTime','getval','got','https://','824568AGKNsr','\x0a==================\x20任务\x20==================\x0a','toLocaleLowerCase','rawBody'];_0x5cf4=function(){return _0x389ebc;};return _0x5cf4();}const _0x5cd016=_0x1a68;function _0x1a68(_0x14bf00,_0x8c639d){const _0x5cf458=_0x5cf4();return _0x1a68=function(_0x1a68e5,_0x36d1ec){_0x1a68e5=_0x1a68e5-0x1dd;let _0x5117ea=_0x5cf458[_0x1a68e5];return _0x5117ea;},_0x1a68(_0x14bf00,_0x8c639d);}(function(_0x5158f4,_0x48cc8c){const _0x1426b9=_0x1a68,_0x388957=_0x5158f4();while(!![]){try{const _0x495241=parseInt(_0x1426b9(0x245))/0x1+-parseInt(_0x1426b9(0x204))/0x2+-parseInt(_0x1426b9(0x1f2))/0x3+parseInt(_0x1426b9(0x210))/0x4+-parseInt(_0x1426b9(0x27b))/0x5+parseInt(_0x1426b9(0x20d))/0x6*(-parseInt(_0x1426b9(0x1e7))/0x7)+-parseInt(_0x1426b9(0x243))/0x8*(-parseInt(_0x1426b9(0x228))/0x9);if(_0x495241===_0x48cc8c)break;else _0x388957['push'](_0x388957['shift']());}catch(_0x1ede8e){_0x388957['push'](_0x388957['shift']());}}}(_0x5cf4,0xa4265));const $=new Env(_0x5cd016(0x299)),ckName=_0x5cd016(0x208),Notify=0x1,notify=$[_0x5cd016(0x277)]()?require(_0x5cd016(0x211)):'';let envSplitor=['@'],userCookie=($[_0x5cd016(0x277)]()?process[_0x5cd016(0x29a)][ckName]:$[_0x5cd016(0x240)](ckName))||'',userList=[],userIdx=0x0,userCount=0x0,host=_0x5cd016(0x24a);$[_0x5cd016(0x1fe)]=[],$[_0x5cd016(0x26b)]=($['isNode']()?process['env'][_0x5cd016(0x25a)]:$[_0x5cd016(0x240)](_0x5cd016(0x25a)))||'';async function main(){const _0xdfdc14=_0x5cd016;console[_0xdfdc14(0x27a)](_0xdfdc14(0x241));let _0x30124b=[];for(let _0x508273 of userList){console[_0xdfdc14(0x27a)](_0xdfdc14(0x28b)+_0x508273[_0xdfdc14(0x1f7)]+_0xdfdc14(0x25d)),_0x30124b[_0xdfdc14(0x224)](await _0x508273['login']()),await $[_0xdfdc14(0x212)](_0x508273[_0xdfdc14(0x21f)]());}await Promise[_0xdfdc14(0x298)](_0x30124b),console['log'](_0xdfdc14(0x1f3)),_0x30124b=[];for(let _0x2281d9 of userList){_0x2281d9[_0xdfdc14(0x232)]?(DoubleLog(_0xdfdc14(0x28b)+_0x2281d9[_0xdfdc14(0x1f7)]+'\x20>>\x20Start\x20work'),console[_0xdfdc14(0x27a)](_0xdfdc14(0x25e)+_0x2281d9['getRandomTime']()+'ms'),_0x30124b[_0xdfdc14(0x224)](await _0x2281d9[_0xdfdc14(0x296)]()),await $['wait'](_0x2281d9[_0xdfdc14(0x21f)]())):$[_0xdfdc14(0x1fe)][_0xdfdc14(0x224)]('❌账号'+_0x2281d9[_0xdfdc14(0x1f7)]+'\x20>>\x20Check\x20ck\x20error!');}await Promise['all'](_0x30124b);}class UserInfo{constructor(_0x2de49b){const _0x370630=_0x5cd016;this[_0x370630(0x1f7)]=++userIdx,this[_0x370630(0x24c)]=_0x2de49b['split']('#'),this[_0x370630(0x283)]=this[_0x370630(0x24c)][0x0],this[_0x370630(0x297)]=this['ckInfo'][0x1],this['ckStatus']=!![],this['headers']={'User-Agent':_0x370630(0x26e),'Cookie':this['ck'],'Content-Type':_0x370630(0x238)},this[_0x370630(0x266)]='action=user_checkin';}[_0x5cd016(0x21f)](){return randomInt(0x3e8,0xbb8);}async[_0x5cd016(0x1e5)](){const _0xc24c81=_0x5cd016;try{const _0x496777={'url':_0xc24c81(0x1f1)+host+_0xc24c81(0x290),'headers':this[_0xc24c81(0x247)],'body':_0xc24c81(0x294)+this[_0xc24c81(0x283)]+'&password='+this[_0xc24c81(0x297)]};$[_0xc24c81(0x1fa)](_0x496777,(_0x5cd85b,_0x2059cf,_0x12e3cc)=>{const _0x31ce8e=_0xc24c81;this['ck']=_0x2059cf['headers'][_0x31ce8e(0x291)];let _0x5cff86=JSON[_0x31ce8e(0x264)](_0x12e3cc);console[_0x31ce8e(0x27a)](_0x5cff86),_0x5cff86?.['status']=='1'?console[_0x31ce8e(0x27a)]('✅'+_0x5cff86?.[_0x31ce8e(0x215)]):console[_0x31ce8e(0x27a)]('🔶'+_0x5cff86?.[_0x31ce8e(0x215)]);});}catch(_0x410ca5){console[_0xc24c81(0x27a)](_0x410ca5);}}async[_0x5cd016(0x296)](){const _0x1c27f9=_0x5cd016;try{const _0x589624={'url':_0x1c27f9(0x1f1)+host+_0x1c27f9(0x290),'headers':this[_0x1c27f9(0x247)],'body':'action=user_qiandao'};let _0xe70006=await httpRequest(_0x589624);console[_0x1c27f9(0x27a)](_0xe70006),_0xe70006?.[_0x1c27f9(0x22c)]==_0x1c27f9(0x22c)?DoubleLog('✅'+_0xe70006?.['msg']):DoubleLog('🔶'+_0xe70006?.[_0x1c27f9(0x215)]);}catch(_0x4ac68d){console[_0x1c27f9(0x27a)](_0x4ac68d);}}}async function getCookie(){const _0x13c794=_0x5cd016;if($request&&$request['method']!=_0x13c794(0x253)){const _0x3ba6d9=$request[_0x13c794(0x247)][_0x13c794(0x20a)]||$request[_0x13c794(0x247)][_0x13c794(0x272)];_0x3ba6d9?($[_0x13c794(0x214)](_0x3ba6d9,ckName),$[_0x13c794(0x215)]($['name'],'','获取签到Cookie成功🎉')):$[_0x13c794(0x215)]($[_0x13c794(0x260)],'',_0x13c794(0x1dd));}}!(async()=>{const _0x2a1980=_0x5cd016;if(typeof $request!='undefined'){await getCookie();return;}if(!await checkEnv())throw new Error(_0x2a1980(0x20f));;userList[_0x2a1980(0x267)]>0x0&&await main();$[_0x2a1980(0x26b)]&&await BarkNotify($,$[_0x2a1980(0x26b)],$[_0x2a1980(0x260)],$['notifyMsg'][_0x2a1980(0x1e6)]('\x0a'));;})()['catch'](_0x1a5f04=>$['notifyMsg'][_0x5cd016(0x224)](_0x1a5f04[_0x5cd016(0x250)]||_0x1a5f04))[_0x5cd016(0x1e8)](async()=>{const _0x2b5c0b=_0x5cd016;await SendMsg($['notifyMsg'][_0x2b5c0b(0x1e6)]('\x0a')),$[_0x2b5c0b(0x263)]();});function DoubleLog(_0x1d7f62){const _0x1b2b37=_0x5cd016;$[_0x1b2b37(0x277)]()?_0x1d7f62&&(console[_0x1b2b37(0x27a)](''+_0x1d7f62),$[_0x1b2b37(0x1fe)][_0x1b2b37(0x224)](''+_0x1d7f62)):(console['log'](''+_0x1d7f62),$[_0x1b2b37(0x1fe)][_0x1b2b37(0x224)](''+_0x1d7f62));}function toParams(_0x52562d){const _0x49bdf5=_0x5cd016;var _0x230e18=Object['keys'](_0x52562d)[_0x49bdf5(0x202)](function(_0x580fad){return encodeURIComponent(_0x580fad)+'='+encodeURIComponent(_0x52562d[_0x580fad]);})[_0x49bdf5(0x1e6)]('&');return _0x230e18;}async function checkEnv(){const _0x5dceb5=_0x5cd016;if(userCookie){let _0x486a38=envSplitor[0x0];for(let _0x18f84e of envSplitor)if(userCookie[_0x5dceb5(0x27e)](_0x18f84e)>-0x1){_0x486a38=_0x18f84e;break;}for(let _0x1fc88a of userCookie['split'](_0x486a38))_0x1fc88a&&userList[_0x5dceb5(0x224)](new UserInfo(_0x1fc88a));userCount=userList['length'];}else{console['log'](_0x5dceb5(0x213));return;}return console[_0x5dceb5(0x27a)](_0x5dceb5(0x26f)+userCount+_0x5dceb5(0x201)),!![];}function randomInt(_0x1bd7d2,_0x5f3265){const _0x459e33=_0x5cd016;return Math[_0x459e33(0x28a)](Math[_0x459e33(0x249)]()*(_0x5f3265-_0x1bd7d2)+_0x1bd7d2);}async function SendMsg(_0x56899c){const _0x48fd20=_0x5cd016;if(!_0x56899c)return;Notify>0x0?$[_0x48fd20(0x277)]()?await notify[_0x48fd20(0x1ea)]($[_0x48fd20(0x260)],_0x56899c):$[_0x48fd20(0x215)]($['name'],'',_0x56899c):console[_0x48fd20(0x27a)](_0x56899c);}function httpRequest(_0xb3fe9d,_0x50d2a0){const _0x666f21=_0x5cd016;return typeof _0x50d2a0===_0x666f21(0x22a)?_0x666f21(0x266)in _0xb3fe9d?_0x50d2a0=_0x666f21(0x1fa):_0x50d2a0=_0x666f21(0x28d):_0x50d2a0=_0x50d2a0,new Promise(_0xfb74c5=>{$[_0x50d2a0](_0xb3fe9d,(_0x19d137,_0x359254,_0xc4b99c)=>{const _0x4700ed=_0x1a68;try{_0x19d137?(console[_0x4700ed(0x27a)](_0x50d2a0+_0x4700ed(0x22f)),$[_0x4700ed(0x244)](_0x19d137)):_0xc4b99c?(typeof JSON[_0x4700ed(0x264)](_0xc4b99c)==_0x4700ed(0x284)?_0xc4b99c=JSON['parse'](_0xc4b99c):_0xc4b99c=_0xc4b99c,_0xfb74c5(_0xc4b99c)):console[_0x4700ed(0x27a)](_0x4700ed(0x27d));}catch(_0x5ce4f9){$[_0x4700ed(0x244)](_0x5ce4f9,_0x359254);}finally{_0xfb74c5();}});});}async function BarkNotify(_0x3d5ade,_0x56b03b,_0x327945,_0x50efea){const _0x3c7ea6=_0x5cd016;for(let _0x299b62=0x0;_0x299b62<0x3;_0x299b62++){console[_0x3c7ea6(0x27a)](_0x3c7ea6(0x278)+(_0x299b62+0x1)+')');const _0x1bfcc3=await new Promise(_0x18a7cf=>{const _0x11e0ff=_0x3c7ea6;_0x3d5ade[_0x11e0ff(0x1fa)]({'url':_0x11e0ff(0x23d),'headers':{'Content-Type':_0x11e0ff(0x285)},'body':JSON[_0x11e0ff(0x242)]({'title':_0x327945,'body':_0x50efea,'device_key':_0x56b03b,'ext_params':{'group':_0x327945}})},(_0x5d60b5,_0x3a6b40,_0x1135dc)=>_0x3a6b40&&_0x3a6b40[_0x11e0ff(0x219)]==0xc8?_0x18a7cf(0x1):_0x18a7cf(_0x1135dc||_0x5d60b5));});if(_0x1bfcc3===0x1){console[_0x3c7ea6(0x27a)](_0x3c7ea6(0x216));break;}else console[_0x3c7ea6(0x27a)](_0x3c7ea6(0x276)+(_0x1bfcc3[_0x3c7ea6(0x250)]||_0x1bfcc3));}};function Env(_0x4db963,_0x17bf83){const _0x54ad6a=_0x5cd016;class _0x2d93f4{constructor(_0x35402d){const _0x1ee0e7=_0x1a68;this[_0x1ee0e7(0x29a)]=_0x35402d;}[_0x54ad6a(0x221)](_0x2a3831,_0x29e8e8=_0x54ad6a(0x236)){const _0x150dd9=_0x54ad6a;_0x2a3831='string'==typeof _0x2a3831?{'url':_0x2a3831}:_0x2a3831;let _0x35f56d=this[_0x150dd9(0x28d)];return _0x150dd9(0x206)===_0x29e8e8&&(_0x35f56d=this[_0x150dd9(0x1fa)]),new Promise((_0x11f714,_0x3d0961)=>{_0x35f56d['call'](this,_0x2a3831,(_0x9765bd,_0x1b9532,_0x12696e)=>{_0x9765bd?_0x3d0961(_0x9765bd):_0x11f714(_0x1b9532);});});}[_0x54ad6a(0x28d)](_0x5c139a){const _0x4946e7=_0x54ad6a;return this[_0x4946e7(0x221)]['call'](this[_0x4946e7(0x29a)],_0x5c139a);}[_0x54ad6a(0x1fa)](_0x2dcfc1){const _0x280805=_0x54ad6a;return this[_0x280805(0x221)][_0x280805(0x231)](this['env'],_0x2dcfc1,_0x280805(0x206));}}return new class{constructor(_0x19fe9b,_0x558325){const _0x2e1984=_0x54ad6a;this['name']=_0x19fe9b,this['http']=new _0x2d93f4(this),this['data']=null,this[_0x2e1984(0x271)]=_0x2e1984(0x24f),this[_0x2e1984(0x295)]=[],this[_0x2e1984(0x248)]=!0x1,this[_0x2e1984(0x1ed)]=!0x1,this[_0x2e1984(0x269)]='\x0a',this[_0x2e1984(0x282)]=_0x2e1984(0x23a),this['startTime']=new Date()[_0x2e1984(0x270)](),Object[_0x2e1984(0x251)](this,_0x558325),this[_0x2e1984(0x27a)]('','🔔'+this[_0x2e1984(0x260)]+',\x20开始!');}[_0x54ad6a(0x226)](){const _0x24f728=_0x54ad6a;return _0x24f728(0x22a)!=typeof $environment&&$environment[_0x24f728(0x220)]?_0x24f728(0x1f8):_0x24f728(0x22a)!=typeof $environment&&$environment[_0x24f728(0x24e)]?'Stash':_0x24f728(0x22a)!=typeof module&&module['exports']?_0x24f728(0x223):_0x24f728(0x22a)!=typeof $task?_0x24f728(0x289):_0x24f728(0x22a)!=typeof $loon?'Loon':_0x24f728(0x22a)!=typeof $rocket?'Shadowrocket':void 0x0;}['isNode'](){const _0x5e044f=_0x54ad6a;return _0x5e044f(0x223)===this[_0x5e044f(0x226)]();}[_0x54ad6a(0x26c)](){const _0x58cc3e=_0x54ad6a;return _0x58cc3e(0x289)===this[_0x58cc3e(0x226)]();}[_0x54ad6a(0x265)](){const _0x363994=_0x54ad6a;return _0x363994(0x1f8)===this[_0x363994(0x226)]();}[_0x54ad6a(0x268)](){const _0x39b30b=_0x54ad6a;return'Loon'===this[_0x39b30b(0x226)]();}[_0x54ad6a(0x26d)](){const _0x4b8a68=_0x54ad6a;return _0x4b8a68(0x27f)===this['getEnv']();}[_0x54ad6a(0x207)](){const _0x182f92=_0x54ad6a;return _0x182f92(0x237)===this['getEnv']();}[_0x54ad6a(0x1e4)](_0x39299e,_0x30fede=null){const _0x157ce9=_0x54ad6a;try{return JSON[_0x157ce9(0x264)](_0x39299e);}catch{return _0x30fede;}}['toStr'](_0x2d7cea,_0x5d43cd=null){const _0x544630=_0x54ad6a;try{return JSON[_0x544630(0x242)](_0x2d7cea);}catch{return _0x5d43cd;}}['getjson'](_0x306928,_0x5e65b4){const _0xf014a6=_0x54ad6a;let _0x48829e=_0x5e65b4;const _0x3e209d=this[_0xf014a6(0x240)](_0x306928);if(_0x3e209d)try{_0x48829e=JSON[_0xf014a6(0x264)](this[_0xf014a6(0x240)](_0x306928));}catch{}return _0x48829e;}['setjson'](_0x3e0ce0,_0x23e2d9){const _0x1418f8=_0x54ad6a;try{return this[_0x1418f8(0x214)](JSON[_0x1418f8(0x242)](_0x3e0ce0),_0x23e2d9);}catch{return!0x1;}}['getScript'](_0x3fe9f3){return new Promise(_0x4050ce=>{const _0x34c2ae=_0x1a68;this[_0x34c2ae(0x28d)]({'url':_0x3fe9f3},(_0x272f90,_0x10dfd8,_0x81f4c3)=>_0x4050ce(_0x81f4c3));});}[_0x54ad6a(0x234)](_0xc7c873,_0x352a01){const _0x47a4ce=_0x54ad6a;return new Promise(_0x5254c5=>{const _0x1438ac=_0x1a68;let _0x1d1ce5=this[_0x1438ac(0x240)](_0x1438ac(0x27c));_0x1d1ce5=_0x1d1ce5?_0x1d1ce5[_0x1438ac(0x21e)](/\n/g,'')[_0x1438ac(0x200)]():_0x1d1ce5;let _0x214dbb=this[_0x1438ac(0x240)](_0x1438ac(0x1f9));_0x214dbb=_0x214dbb?0x1*_0x214dbb:0x14,_0x214dbb=_0x352a01&&_0x352a01[_0x1438ac(0x22b)]?_0x352a01['timeout']:_0x214dbb;const [_0x201200,_0x6a7f40]=_0x1d1ce5['split']('@'),_0x182572={'url':_0x1438ac(0x281)+_0x6a7f40+'/v1/scripting/evaluate','body':{'script_text':_0xc7c873,'mock_type':'cron','timeout':_0x214dbb},'headers':{'X-Key':_0x201200,'Accept':'*/*'},'timeout':_0x214dbb};this[_0x1438ac(0x1fa)](_0x182572,(_0x376c5e,_0x566b22,_0x3e4e95)=>_0x5254c5(_0x3e4e95));})[_0x47a4ce(0x261)](_0x12276c=>this[_0x47a4ce(0x244)](_0x12276c));}[_0x54ad6a(0x22e)](){const _0x465fba=_0x54ad6a;if(!this[_0x465fba(0x277)]())return{};{this['fs']=this['fs']?this['fs']:require('fs'),this[_0x465fba(0x28e)]=this['path']?this[_0x465fba(0x28e)]:require('path');const _0xe5ab8d=this[_0x465fba(0x28e)]['resolve'](this[_0x465fba(0x271)]),_0x40b5f2=this['path'][_0x465fba(0x217)](process[_0x465fba(0x1e0)](),this[_0x465fba(0x271)]),_0xa0446a=this['fs'][_0x465fba(0x23c)](_0xe5ab8d),_0x52772b=!_0xa0446a&&this['fs'][_0x465fba(0x23c)](_0x40b5f2);if(!_0xa0446a&&!_0x52772b)return{};{const _0xfa5ff0=_0xa0446a?_0xe5ab8d:_0x40b5f2;try{return JSON[_0x465fba(0x264)](this['fs'][_0x465fba(0x287)](_0xfa5ff0));}catch(_0x522f1b){return{};}}}}[_0x54ad6a(0x225)](){const _0x3fa124=_0x54ad6a;if(this['isNode']()){this['fs']=this['fs']?this['fs']:require('fs'),this[_0x3fa124(0x28e)]=this[_0x3fa124(0x28e)]?this['path']:require(_0x3fa124(0x28e));const _0x11edeb=this[_0x3fa124(0x28e)][_0x3fa124(0x217)](this[_0x3fa124(0x271)]),_0x5c95a4=this[_0x3fa124(0x28e)][_0x3fa124(0x217)](process[_0x3fa124(0x1e0)](),this['dataFile']),_0x5282d0=this['fs'][_0x3fa124(0x23c)](_0x11edeb),_0x3672af=!_0x5282d0&&this['fs'][_0x3fa124(0x23c)](_0x5c95a4),_0x56ec59=JSON[_0x3fa124(0x242)](this[_0x3fa124(0x288)]);_0x5282d0?this['fs'][_0x3fa124(0x21a)](_0x11edeb,_0x56ec59):_0x3672af?this['fs']['writeFileSync'](_0x5c95a4,_0x56ec59):this['fs'][_0x3fa124(0x21a)](_0x11edeb,_0x56ec59);}}['lodash_get'](_0x14ef17,_0x3d3f50,_0x11c35c){const _0x1782ef=_0x3d3f50['replace'](/\[(\d+)\]/g,'.$1')['split']('.');let _0x297539=_0x14ef17;for(const _0x3d63b2 of _0x1782ef)if(_0x297539=Object(_0x297539)[_0x3d63b2],void 0x0===_0x297539)return _0x11c35c;return _0x297539;}[_0x54ad6a(0x1df)](_0x4b021d,_0x2eac76,_0x3e38a1){const _0x5ddf3c=_0x54ad6a;return Object(_0x4b021d)!==_0x4b021d?_0x4b021d:(Array[_0x5ddf3c(0x1e1)](_0x2eac76)||(_0x2eac76=_0x2eac76[_0x5ddf3c(0x239)]()[_0x5ddf3c(0x254)](/[^.[\]]+/g)||[]),_0x2eac76[_0x5ddf3c(0x203)](0x0,-0x1)[_0x5ddf3c(0x1f6)]((_0x13aace,_0x15babb,_0x41f92d)=>Object(_0x13aace[_0x15babb])===_0x13aace[_0x15babb]?_0x13aace[_0x15babb]:_0x13aace[_0x15babb]=Math[_0x5ddf3c(0x205)](_0x2eac76[_0x41f92d+0x1])>>0x0==+_0x2eac76[_0x41f92d+0x1]?[]:{},_0x4b021d)[_0x2eac76[_0x2eac76[_0x5ddf3c(0x267)]-0x1]]=_0x3e38a1,_0x4b021d);}[_0x54ad6a(0x240)](_0x17c95e){const _0x5c0e6f=_0x54ad6a;let _0x10e0c9=this[_0x5c0e6f(0x1ef)](_0x17c95e);if(/^@/['test'](_0x17c95e)){const [,_0x1d3a84,_0x19cc02]=/^@(.*?)\.(.*?)$/['exec'](_0x17c95e),_0x588277=_0x1d3a84?this['getval'](_0x1d3a84):'';if(_0x588277)try{const _0x22f3af=JSON[_0x5c0e6f(0x264)](_0x588277);_0x10e0c9=_0x22f3af?this[_0x5c0e6f(0x273)](_0x22f3af,_0x19cc02,''):_0x10e0c9;}catch(_0x1645af){_0x10e0c9='';}}return _0x10e0c9;}[_0x54ad6a(0x214)](_0x506f88,_0x1be0cb){const _0x4729b9=_0x54ad6a;let _0x434bf5=!0x1;if(/^@/[_0x4729b9(0x209)](_0x1be0cb)){const [,_0x1fabb2,_0x49677e]=/^@(.*?)\.(.*?)$/[_0x4729b9(0x28c)](_0x1be0cb),_0x59fafa=this[_0x4729b9(0x1ef)](_0x1fabb2),_0x5cbcc7=_0x1fabb2?_0x4729b9(0x292)===_0x59fafa?null:_0x59fafa||'{}':'{}';try{const _0x5e172c=JSON[_0x4729b9(0x264)](_0x5cbcc7);this[_0x4729b9(0x1df)](_0x5e172c,_0x49677e,_0x506f88),_0x434bf5=this[_0x4729b9(0x1e9)](JSON[_0x4729b9(0x242)](_0x5e172c),_0x1fabb2);}catch(_0x71b55){const _0x29b264={};this['lodash_set'](_0x29b264,_0x49677e,_0x506f88),_0x434bf5=this[_0x4729b9(0x1e9)](JSON[_0x4729b9(0x242)](_0x29b264),_0x1fabb2);}}else _0x434bf5=this[_0x4729b9(0x1e9)](_0x506f88,_0x1be0cb);return _0x434bf5;}[_0x54ad6a(0x1ef)](_0xfe9846){const _0x3143fe=_0x54ad6a;switch(this[_0x3143fe(0x226)]()){case _0x3143fe(0x1f8):case'Loon':case _0x3143fe(0x237):case _0x3143fe(0x27f):return $persistentStore['read'](_0xfe9846);case'Quantumult\x20X':return $prefs[_0x3143fe(0x1fb)](_0xfe9846);case _0x3143fe(0x223):return this['data']=this[_0x3143fe(0x22e)](),this[_0x3143fe(0x288)][_0xfe9846];default:return this['data']&&this['data'][_0xfe9846]||null;}}[_0x54ad6a(0x1e9)](_0x25eadd,_0x3ce769){const _0x2175d4=_0x54ad6a;switch(this['getEnv']()){case _0x2175d4(0x1f8):case'Loon':case _0x2175d4(0x237):case _0x2175d4(0x27f):return $persistentStore[_0x2175d4(0x21c)](_0x25eadd,_0x3ce769);case _0x2175d4(0x289):return $prefs[_0x2175d4(0x229)](_0x25eadd,_0x3ce769);case _0x2175d4(0x223):return this[_0x2175d4(0x288)]=this[_0x2175d4(0x22e)](),this[_0x2175d4(0x288)][_0x3ce769]=_0x25eadd,this['writedata'](),!0x0;default:return this['data']&&this['data'][_0x3ce769]||null;}}[_0x54ad6a(0x293)](_0x3bec73){const _0x5acf34=_0x54ad6a;this[_0x5acf34(0x1f0)]=this[_0x5acf34(0x1f0)]?this[_0x5acf34(0x1f0)]:require(_0x5acf34(0x1f0)),this['cktough']=this[_0x5acf34(0x1ff)]?this[_0x5acf34(0x1ff)]:require('tough-cookie'),this[_0x5acf34(0x1eb)]=this[_0x5acf34(0x1eb)]?this[_0x5acf34(0x1eb)]:new this['cktough'][(_0x5acf34(0x1e2))](),_0x3bec73&&(_0x3bec73[_0x5acf34(0x247)]=_0x3bec73[_0x5acf34(0x247)]?_0x3bec73[_0x5acf34(0x247)]:{},void 0x0===_0x3bec73[_0x5acf34(0x247)][_0x5acf34(0x20a)]&&void 0x0===_0x3bec73['cookieJar']&&(_0x3bec73['cookieJar']=this[_0x5acf34(0x1eb)]));}[_0x54ad6a(0x28d)](_0x346fd6,_0x590cbe=()=>{}){const _0x1044ff=_0x54ad6a;switch(_0x346fd6[_0x1044ff(0x247)]&&(delete _0x346fd6[_0x1044ff(0x247)][_0x1044ff(0x24b)],delete _0x346fd6[_0x1044ff(0x247)][_0x1044ff(0x23f)],delete _0x346fd6[_0x1044ff(0x247)][_0x1044ff(0x275)],delete _0x346fd6[_0x1044ff(0x247)][_0x1044ff(0x246)]),_0x346fd6[_0x1044ff(0x252)]&&(_0x346fd6['url']+='?'+this['queryStr'](_0x346fd6[_0x1044ff(0x252)])),this[_0x1044ff(0x226)]()){case _0x1044ff(0x1f8):case'Loon':case _0x1044ff(0x237):case _0x1044ff(0x27f):default:this[_0x1044ff(0x265)]()&&this['isNeedRewrite']&&(_0x346fd6[_0x1044ff(0x247)]=_0x346fd6[_0x1044ff(0x247)]||{},Object[_0x1044ff(0x251)](_0x346fd6[_0x1044ff(0x247)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient['get'](_0x346fd6,(_0x337027,_0x124cf2,_0x4dd92a)=>{const _0x1897fd=_0x1044ff;!_0x337027&&_0x124cf2&&(_0x124cf2[_0x1897fd(0x266)]=_0x4dd92a,_0x124cf2[_0x1897fd(0x21d)]=_0x124cf2[_0x1897fd(0x219)]?_0x124cf2[_0x1897fd(0x219)]:_0x124cf2[_0x1897fd(0x21d)],_0x124cf2[_0x1897fd(0x219)]=_0x124cf2[_0x1897fd(0x21d)]),_0x590cbe(_0x337027,_0x124cf2,_0x4dd92a);});break;case _0x1044ff(0x289):this['isNeedRewrite']&&(_0x346fd6[_0x1044ff(0x274)]=_0x346fd6[_0x1044ff(0x274)]||{},Object[_0x1044ff(0x251)](_0x346fd6[_0x1044ff(0x274)],{'hints':!0x1})),$task['fetch'](_0x346fd6)[_0x1044ff(0x23b)](_0x4d781d=>{const {statusCode:_0xc9b9cd,statusCode:_0x35bdf0,headers:_0x2f9c6d,body:_0x47cf6e,bodyBytes:_0x1c1d22}=_0x4d781d;_0x590cbe(null,{'status':_0xc9b9cd,'statusCode':_0x35bdf0,'headers':_0x2f9c6d,'body':_0x47cf6e,'bodyBytes':_0x1c1d22},_0x47cf6e,_0x1c1d22);},_0x414e3a=>_0x590cbe(_0x414e3a&&_0x414e3a['error']||'UndefinedError'));break;case _0x1044ff(0x223):let _0xcde307=require(_0x1044ff(0x222));this[_0x1044ff(0x293)](_0x346fd6),this['got'](_0x346fd6)['on']('redirect',(_0x3a7cc8,_0x5f32e3)=>{const _0x488f80=_0x1044ff;try{if(_0x3a7cc8[_0x488f80(0x247)][_0x488f80(0x279)]){const _0x303477=_0x3a7cc8[_0x488f80(0x247)]['set-cookie'][_0x488f80(0x202)](this[_0x488f80(0x1ff)]['Cookie'][_0x488f80(0x264)])[_0x488f80(0x239)]();_0x303477&&this['ckjar'][_0x488f80(0x25b)](_0x303477,null),_0x5f32e3['cookieJar']=this[_0x488f80(0x1eb)];}}catch(_0x4d43cd){this[_0x488f80(0x244)](_0x4d43cd);}})[_0x1044ff(0x23b)](_0x18c8b2=>{const _0x548904=_0x1044ff,{statusCode:_0x19071a,statusCode:_0x456885,headers:_0x5c0dfe,rawBody:_0xc1023b}=_0x18c8b2,_0x37db91=_0xcde307[_0x548904(0x1ec)](_0xc1023b,this[_0x548904(0x282)]);_0x590cbe(null,{'status':_0x19071a,'statusCode':_0x456885,'headers':_0x5c0dfe,'rawBody':_0xc1023b,'body':_0x37db91},_0x37db91);},_0x25dfb5=>{const _0x11279d=_0x1044ff,{message:_0x410055,response:_0x14d636}=_0x25dfb5;_0x590cbe(_0x410055,_0x14d636,_0x14d636&&_0xcde307[_0x11279d(0x1ec)](_0x14d636[_0x11279d(0x1f5)],this[_0x11279d(0x282)]));});}}[_0x54ad6a(0x1fa)](_0x3c3f42,_0x5410e3=()=>{}){const _0x19d65a=_0x54ad6a,_0x5f2aaa=_0x3c3f42[_0x19d65a(0x21b)]?_0x3c3f42[_0x19d65a(0x21b)][_0x19d65a(0x1f4)]():_0x19d65a(0x1fa);switch(_0x3c3f42['body']&&_0x3c3f42[_0x19d65a(0x247)]&&!_0x3c3f42[_0x19d65a(0x247)]['Content-Type']&&!_0x3c3f42['headers'][_0x19d65a(0x275)]&&(_0x3c3f42[_0x19d65a(0x247)][_0x19d65a(0x275)]='application/x-www-form-urlencoded'),_0x3c3f42['headers']&&(delete _0x3c3f42[_0x19d65a(0x247)][_0x19d65a(0x23f)],delete _0x3c3f42[_0x19d65a(0x247)][_0x19d65a(0x246)]),this[_0x19d65a(0x226)]()){case _0x19d65a(0x1f8):case _0x19d65a(0x1fc):case _0x19d65a(0x237):case _0x19d65a(0x27f):default:this[_0x19d65a(0x265)]()&&this[_0x19d65a(0x1ed)]&&(_0x3c3f42[_0x19d65a(0x247)]=_0x3c3f42[_0x19d65a(0x247)]||{},Object[_0x19d65a(0x251)](_0x3c3f42[_0x19d65a(0x247)],{'X-Surge-Skip-Scripting':!0x1})),$httpClient[_0x5f2aaa](_0x3c3f42,(_0x16eab0,_0x552e6e,_0x2ae543)=>{const _0x4d4dea=_0x19d65a;!_0x16eab0&&_0x552e6e&&(_0x552e6e[_0x4d4dea(0x266)]=_0x2ae543,_0x552e6e[_0x4d4dea(0x21d)]=_0x552e6e['status']?_0x552e6e[_0x4d4dea(0x219)]:_0x552e6e['statusCode'],_0x552e6e[_0x4d4dea(0x219)]=_0x552e6e['statusCode']),_0x5410e3(_0x16eab0,_0x552e6e,_0x2ae543);});break;case _0x19d65a(0x289):_0x3c3f42[_0x19d65a(0x21b)]=_0x5f2aaa,this[_0x19d65a(0x1ed)]&&(_0x3c3f42[_0x19d65a(0x274)]=_0x3c3f42[_0x19d65a(0x274)]||{},Object['assign'](_0x3c3f42[_0x19d65a(0x274)],{'hints':!0x1})),$task[_0x19d65a(0x280)](_0x3c3f42)[_0x19d65a(0x23b)](_0x26e644=>{const {statusCode:_0x1d1421,statusCode:_0x6efccb,headers:_0xea9e09,body:_0x4cc6e4,bodyBytes:_0x2728bc}=_0x26e644;_0x5410e3(null,{'status':_0x1d1421,'statusCode':_0x6efccb,'headers':_0xea9e09,'body':_0x4cc6e4,'bodyBytes':_0x2728bc},_0x4cc6e4,_0x2728bc);},_0x2a9e7b=>_0x5410e3(_0x2a9e7b&&_0x2a9e7b[_0x19d65a(0x25f)]||'UndefinedError'));break;case _0x19d65a(0x223):let _0x377bf8=require(_0x19d65a(0x222));this['initGotEnv'](_0x3c3f42);const {url:_0x399d5b,..._0x236edc}=_0x3c3f42;this[_0x19d65a(0x1f0)][_0x5f2aaa](_0x399d5b,_0x236edc)['then'](_0x14ee54=>{const _0x46b2c0=_0x19d65a,{statusCode:_0xd9fea7,statusCode:_0x3951e0,headers:_0x248506,rawBody:_0xa43f60}=_0x14ee54,_0x4d678a=_0x377bf8[_0x46b2c0(0x1ec)](_0xa43f60,this['encoding']);_0x5410e3(null,{'status':_0xd9fea7,'statusCode':_0x3951e0,'headers':_0x248506,'rawBody':_0xa43f60,'body':_0x4d678a},_0x4d678a);},_0x4bdb1d=>{const _0x5b095e=_0x19d65a,{message:_0x39d7cc,response:_0x503509}=_0x4bdb1d;_0x5410e3(_0x39d7cc,_0x503509,_0x503509&&_0x377bf8['decode'](_0x503509['rawBody'],this[_0x5b095e(0x282)]));});}}[_0x54ad6a(0x1fd)](_0x442026,_0x29c1b2=null){const _0x43e1ec=_0x54ad6a,_0x43bec1=_0x29c1b2?new Date(_0x29c1b2):new Date();let _0x3206de={'M+':_0x43bec1[_0x43e1ec(0x24d)]()+0x1,'d+':_0x43bec1[_0x43e1ec(0x218)](),'H+':_0x43bec1[_0x43e1ec(0x233)](),'m+':_0x43bec1[_0x43e1ec(0x259)](),'s+':_0x43bec1[_0x43e1ec(0x256)](),'q+':Math[_0x43e1ec(0x20b)]((_0x43bec1[_0x43e1ec(0x24d)]()+0x3)/0x3),'S':_0x43bec1[_0x43e1ec(0x22d)]()};/(y+)/[_0x43e1ec(0x209)](_0x442026)&&(_0x442026=_0x442026[_0x43e1ec(0x21e)](RegExp['$1'],(_0x43bec1[_0x43e1ec(0x262)]()+'')[_0x43e1ec(0x26a)](0x4-RegExp['$1']['length'])));for(let _0x1d23cd in _0x3206de)new RegExp('('+_0x1d23cd+')')[_0x43e1ec(0x209)](_0x442026)&&(_0x442026=_0x442026[_0x43e1ec(0x21e)](RegExp['$1'],0x1==RegExp['$1'][_0x43e1ec(0x267)]?_0x3206de[_0x1d23cd]:('00'+_0x3206de[_0x1d23cd])[_0x43e1ec(0x26a)]((''+_0x3206de[_0x1d23cd])[_0x43e1ec(0x267)])));return _0x442026;}['queryStr'](_0x52cedd){const _0x4de434=_0x54ad6a;let _0x4469b8='';for(const _0x964b5c in _0x52cedd){let _0x432ab9=_0x52cedd[_0x964b5c];null!=_0x432ab9&&''!==_0x432ab9&&(_0x4de434(0x284)==typeof _0x432ab9&&(_0x432ab9=JSON['stringify'](_0x432ab9)),_0x4469b8+=_0x964b5c+'='+_0x432ab9+'&');}return _0x4469b8=_0x4469b8[_0x4de434(0x1de)](0x0,_0x4469b8[_0x4de434(0x267)]-0x1),_0x4469b8;}['msg'](_0xb8051a=_0x4db963,_0x227a65='',_0x66a237='',_0x35c3cf){const _0x510287=_0x54ad6a,_0x8650d9=_0x349057=>{const _0x78c919=_0x1a68;switch(typeof _0x349057){case void 0x0:return _0x349057;case _0x78c919(0x286):switch(this['getEnv']()){case'Surge':case _0x78c919(0x237):default:return{'url':_0x349057};case _0x78c919(0x1fc):case _0x78c919(0x27f):return _0x349057;case _0x78c919(0x289):return{'open-url':_0x349057};case _0x78c919(0x223):return;}case'object':switch(this[_0x78c919(0x226)]()){case _0x78c919(0x1f8):case _0x78c919(0x237):case _0x78c919(0x27f):default:{let _0x12356f=_0x349057[_0x78c919(0x227)]||_0x349057['openUrl']||_0x349057[_0x78c919(0x28f)];return{'url':_0x12356f};}case _0x78c919(0x1fc):{let _0x27e9a1=_0x349057[_0x78c919(0x230)]||_0x349057[_0x78c919(0x227)]||_0x349057[_0x78c919(0x28f)],_0x64554a=_0x349057[_0x78c919(0x23e)]||_0x349057[_0x78c919(0x20c)];return{'openUrl':_0x27e9a1,'mediaUrl':_0x64554a};}case'Quantumult\x20X':{let _0x1940dc=_0x349057[_0x78c919(0x28f)]||_0x349057[_0x78c919(0x227)]||_0x349057[_0x78c919(0x230)],_0x1eb437=_0x349057['media-url']||_0x349057['mediaUrl'],_0x4503da=_0x349057[_0x78c919(0x25c)]||_0x349057[_0x78c919(0x257)];return{'open-url':_0x1940dc,'media-url':_0x1eb437,'update-pasteboard':_0x4503da};}case _0x78c919(0x223):return;}default:return;}};if(!this[_0x510287(0x248)])switch(this[_0x510287(0x226)]()){case _0x510287(0x1f8):case _0x510287(0x1fc):case _0x510287(0x237):case _0x510287(0x27f):default:$notification['post'](_0xb8051a,_0x227a65,_0x66a237,_0x8650d9(_0x35c3cf));break;case _0x510287(0x289):$notify(_0xb8051a,_0x227a65,_0x66a237,_0x8650d9(_0x35c3cf));break;case _0x510287(0x223):}if(!this[_0x510287(0x255)]){let _0x56e5d0=['','==============📣系统通知📣=============='];_0x56e5d0[_0x510287(0x224)](_0xb8051a),_0x227a65&&_0x56e5d0[_0x510287(0x224)](_0x227a65),_0x66a237&&_0x56e5d0[_0x510287(0x224)](_0x66a237),console[_0x510287(0x27a)](_0x56e5d0[_0x510287(0x1e6)]('\x0a')),this['logs']=this[_0x510287(0x295)][_0x510287(0x235)](_0x56e5d0);}}[_0x54ad6a(0x27a)](..._0x7f6610){const _0x259d0e=_0x54ad6a;_0x7f6610[_0x259d0e(0x267)]>0x0&&(this[_0x259d0e(0x295)]=[...this['logs'],..._0x7f6610]),console[_0x259d0e(0x27a)](_0x7f6610[_0x259d0e(0x1e6)](this[_0x259d0e(0x269)]));}[_0x54ad6a(0x244)](_0x150705,_0x48a82a){const _0x3555cb=_0x54ad6a;switch(this[_0x3555cb(0x226)]()){case _0x3555cb(0x1f8):case _0x3555cb(0x1fc):case _0x3555cb(0x237):case _0x3555cb(0x27f):case _0x3555cb(0x289):default:this[_0x3555cb(0x27a)]('','❗️'+this[_0x3555cb(0x260)]+_0x3555cb(0x1e3),_0x150705);break;case _0x3555cb(0x223):this[_0x3555cb(0x27a)]('','❗️'+this['name']+_0x3555cb(0x1e3),_0x150705[_0x3555cb(0x20e)]);}}[_0x54ad6a(0x212)](_0x67615){return new Promise(_0x592644=>setTimeout(_0x592644,_0x67615));}['done'](_0x43d955={}){const _0x5c57ad=_0x54ad6a,_0x114f84=new Date()[_0x5c57ad(0x270)](),_0x943d5d=(_0x114f84-this[_0x5c57ad(0x1ee)])/0x3e8;switch(this['log']('','🔔'+this[_0x5c57ad(0x260)]+',\x20结束!\x20🕛\x20'+_0x943d5d+'\x20秒'),this[_0x5c57ad(0x27a)](),this['getEnv']()){case _0x5c57ad(0x1f8):case _0x5c57ad(0x1fc):case _0x5c57ad(0x237):case _0x5c57ad(0x27f):case _0x5c57ad(0x289):default:$done(_0x43d955);break;case _0x5c57ad(0x223):process[_0x5c57ad(0x258)](0x1);}}}(_0x4db963,_0x17bf83);}
